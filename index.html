<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Kotlin</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- custom styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="stylesheet" href="lib/css/tomorrow-night.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section>
          <h2>Kotlin</h2>
          <h5>Das bessere Java?</h5>
        </section>

        <section id="me">
          <section id="me1">
            <h3>Über mich</h3>
            <ul>
              <li>Hilmar Wiegand</li>
              <li>Fullstack Entwickler bei Acomodeo.com</li>
              <li>Kotlin seit 2 Jahren</li>
            </ul>
          </section>

          <section id="me2">
            <svg version="1" xmlns="http://www.w3.org/2000/svg" width="500" height="300" viewBox="0 0 283.5405273 63.7939453"><g fill="currentColor"><path d="M98.001 45.123l-11.949-25.84H84.22l-11.95 25.84h1.98l3.262-7.184H92.65l3.263 7.184H98zm-19.683-8.906L85.1 21.372l6.744 14.845H78.318zM270.6 19.026c-7.772 0-12.94 6.268-12.94 13.268v.073c0 7.001 5.094 13.196 12.865 13.196s12.94-6.268 12.94-13.27v-.072c0-7-5.095-13.195-12.866-13.195zm10.885 13.341c0 6.342-4.545 11.473-10.886 11.473-6.342 0-10.96-5.203-10.96-11.546v-.073c0-6.341 4.545-11.473 10.886-11.473 6.342 0 10.96 5.205 10.96 11.546v.073zM211.431 19.466v25.657h8.541c8.064 0 13.635-5.607 13.635-12.83v-.072c0-7.221-5.571-12.755-13.635-12.755h-8.54zm20.196 12.828v.073c0 6.122-4.507 10.997-11.655 10.997h-6.635V21.226h6.635c7.148 0 11.655 4.984 11.655 11.068zM255.421 21.226v-1.76h-18.254v25.657h18.437v-1.759h-16.53v-10.3h14.697v-1.76h-14.697V21.227zM177.773 45.123V19.466h-1.796L165.678 34.64l-10.3-15.175h-1.796v25.657h1.833V22.838l10.153 14.771h.146l10.154-14.771v22.285zM110.688 20.748c3.848 0 6.414 1.613 8.65 3.776l1.356-1.393c-2.639-2.42-5.388-4.105-9.97-4.105-7.403 0-12.828 6.011-12.828 13.268v.073c0 7.368 5.425 13.196 12.755 13.196 4.545 0 7.477-1.796 10.19-4.471l-1.283-1.246c-2.602 2.566-5.132 3.994-8.834 3.994-6.121 0-10.849-5.058-10.849-11.546v-.073c0-6.45 4.655-11.473 10.813-11.473zM149.289 32.22c0-7-5.095-13.194-12.866-13.194s-12.938 6.268-12.938 13.268v.073c0 7.001 5.094 13.196 12.865 13.196 7.77 0 12.939-6.268 12.939-13.27v-.072zm-1.98.147c0 6.342-4.545 11.473-10.886 11.473-6.341 0-10.96-5.203-10.96-11.546v-.073c0-6.341 4.545-11.473 10.887-11.473 6.34 0 10.96 5.205 10.96 11.546v.073zM207.872 32.294v-.073c0-7-5.095-13.195-12.866-13.195s-12.938 6.268-12.938 13.268v.073c0 7.001 5.094 13.196 12.864 13.196s12.94-6.268 12.94-13.27zM195.006 43.84c-6.341 0-10.96-5.203-10.96-11.546v-.073c0-6.341 4.545-11.473 10.886-11.473 6.342 0 10.96 5.205 10.96 11.546v.073c0 6.342-4.545 11.473-10.886 11.473z"></path><circle cx="38.77" cy="45.052" r="1.851"></circle><circle cx="25.024" cy="45.052" r="1.851"></circle><circle cx="20.168" cy="40.197" r="1.851"></circle><circle cx="19.699" cy="45.521" r="1.659"></circle><circle cx="43.625" cy="40.197" r="1.851"></circle><path d="M31.897 0C14.281 0 0 14.281 0 31.896c0 17.617 14.28 31.898 31.897 31.898 17.616 0 31.896-14.281 31.896-31.898C63.793 14.281 49.513 0 31.897 0zm14.248 47.57a2.9 2.9 0 0 1-4.102 0 2.851 2.851 0 0 1-.569-.83 3.246 3.246 0 0 1-.45.569 3.192 3.192 0 0 1-4.51 0 3.192 3.192 0 0 1 0-4.512c.63-.63 1.457-.94 2.283-.933l-1.379-1.379c-.519.223-1.008.222-1.287-.056-.277-.279-.279-.768-.056-1.287l-4.178-4.178-4.178 4.178c.222.52.22 1.008-.057 1.287s-.768.279-1.287.056l-1.379 1.38a3.179 3.179 0 0 1 2.284.932 3.192 3.192 0 0 1 0 4.512 3.193 3.193 0 0 1-4.511 0 3.201 3.201 0 0 1-.45-.569c-.139.3-.322.584-.569.83a2.899 2.899 0 1 1-4.1-4.1c.246-.247.53-.43.83-.57a3.198 3.198 0 0 1-.567-.448 3.19 3.19 0 0 1 4.51-4.51c.63.63.94 1.455.934 2.28l1.377-1.377c-.222-.52-.22-1.008.058-1.286.277-.279.767-.28 1.286-.058l4.178-4.178L17.412 20.48a1.16 1.16 0 0 1 1.64-1.64l2.086 2.086c.826-.826.41-1.23.41-1.23l-1.07-1.071a.29.29 0 0 1 0-.41l.205-.205a.285.285 0 0 1 .378-.022.45.45 0 0 0 .589-.037c.05-.052.36-.354.134-.647-.172-.223.137-.517.137-.517l1.23-1.23c.41-.41.82 0 .82 0l.858.857c.41.41 0 .82 0 .82l-.82.82s-.09.141.065.293.312.085.312.085l.82-.82c.41-.41.82 0 .82 0l.406.406.418.418c.233.233.41.41 0 .82l-.82.82s-.066.156.086.312c.151.156.324.097.324.097l.82-.82s.41-.41.82 0l.82.82s.41.41 0 .82l-1.23 1.231s-.293.31-.516.137c-.294-.226-.597.084-.648.135a.449.449 0 0 0-.037.589.286.286 0 0 1-.021.377l-.205.206a.29.29 0 0 1-.41 0L24.8 22.945s-.352-.427-1.21.431l8.307 8.307 8.306-8.307c-.857-.858-1.21-.43-1.21-.43l-1.033 1.033a.29.29 0 0 1-.41 0l-.205-.206a.286.286 0 0 1-.02-.377.45.45 0 0 0-.038-.59c-.05-.05-.354-.36-.647-.134-.224.173-.517-.137-.517-.137l-1.23-1.23c-.41-.41 0-.82 0-.82l.82-.82c.41-.41.82 0 .82 0l.82.82s.173.058.325-.098c.152-.156.085-.313.085-.313l-.82-.82c-.41-.41 0-.82 0-.82l.419-.417.405-.407s.41-.41.82 0l.82.82s.156.067.312-.084.066-.292.066-.292l-.82-.82s-.41-.41 0-.82l.856-.858s.411-.41.82 0l1.231 1.23s.31.294.137.517c-.226.293.084.595.135.647a.45.45 0 0 0 .589.037.285.285 0 0 1 .377.022l.206.205a.29.29 0 0 1 0 .41l-1.07 1.07s-.416.405.409 1.23l2.087-2.085a1.159 1.159 0 1 1 1.64 1.64L33.536 33.323l4.178 4.178c.52-.223 1.009-.22 1.287.058s.28.766.057 1.286l1.378 1.378a3.178 3.178 0 0 1 .933-2.282 3.19 3.19 0 0 1 4.511 4.51 3.198 3.198 0 0 1-.568.45c.3.139.584.322.832.57a2.898 2.898 0 0 1 0 4.1z"></path><circle cx="44.094" cy="45.521" r="1.659"></circle></g></svg>
            <ul>
              <li>Online-Portal, Technologieanbieter und Vermittler für Serviced Apartments</li>
              <li>Microservice-Architektur</li>
              <li>Frontends in Angular/Typescript</li>
              <li>Backends in Kotlin mit Spring/MongoDB</li>
            </ul>
          </section>
        </section>

        <section id="about">
          <section id="about1">
            <h3>Kotlin</h3>
            <p>JVM-Sprache von JetBrains (IntelliJ, YouTrack)</p>
            <p>Version 1.0 in 2016 released</p>
            <br>
            <blockquote>
              <i class="fas fa-quote-left fa-1g fa-pull-left fa-border"></i>
              Concise, simple and very easy to read (and write)
            </blockquote>
          </section>

          <section id="about2">
            <ul>
              <li>Reduzierung von Boilerplate-Code gegenüber Java</li>
              <li>Bewährte Konventionen als Sprachkonstrukte</li>
              <li>Vereinfachung von oft benutzten Operationen</li>
              <li>Sicherheit vor Null-Pointer-Exceptions</li>
              <li>Funktionale Konzepte</li>
            </ul>
          </section>
        </section>

        <section id="projekt">
          <h3>Beispiel-Projekt</h3>
          <p>Tierhandlung "Bunter Hund"</p>
          <p>Spring Boot und MongoDB</p>
          <p>Entities: Tier, TierArt, FutterVorrat, Mitarbeiter...</p>
        </section>

        <section id="syntax">
          <section id="syntax1">
            <h3>Syntax und Unterschiede zu Java</h3>
            <ul>
              <li>Keine Semikolons</li>
              <li>
                Keine "unnötigen" (geschweiften) Klammern<br>
                <pre><code data-trim class="kotlin">
                  // korrekt!
                  class EineKlasse
                </code></pre>
              </li>
              <li>Public by default</li>
              <li>
                Keine Vererbung by default<br>
                <pre><code data-trim class="kotlin">
                  // fehler!
                  class KannNichtVererben
                  class UnterKlasse : KannNichtVererben
                </code></pre>
                <pre><code data-trim class="kotlin">
                  // erlaubt
                  open class KannErben
                  class UnterKlasse : KannErben
                </code></pre>
              </li>
            </ul>
          </section>

          <section id="syntax2">
            <ul>
              <li>Typen-Inferenz (<pre class="inline-code"><code class="kotlin">var</code></pre>/<pre class="inline-code"><code class="kotlin">val</code></pre>)</li>
              <li>
                Funktionen<br>
                <pre><code data-trim class="kotlin">
                  fun funktionsName(parameter: Typ) : Rückgabe {}
                </code></pre>
              </li>
              <li>Mehrere public Klassen/Interfaces per Datei</li>
              <li>
                Methoden außerhalb von Klassen erlaubt<br>
                <pre><code data-trim class="kotlin">listOf(), mapOf(), error()</code></pre>
              </li>
            </ul>
          </section>

          <section id="syntax3">
            <b>Expressions / Assignments</b>
            <pre><code data-trim class="kotlin">
              val test = if (bedingung) "Hallo" else "Welt"
            </code></pre>

            <pre><code data-trim class="kotlin">
              val test = when (wert) {
                "Wert 1" -> "Hallo"
                "Wert 2" -> "Welt"
                else -> "Standard"
              }
            </code></pre>

            <pre><code data-trim class="kotlin">
              val test = try {
                Integer.parseInt("15")
              } catch (e: NumberFormatException) {
                0
              }
            </code></pre>

            <br>
            <small>Funktionen können mit Kurzschreibweise Expressions zugewiesen bekommen:</small>
            <pre><code data-trim class="kotlin">
              fun halloWelt(): String = "Hallo Welt!"
            </code></pre>
          </section>

          <section id="syntax4">
              <p>Konstruktoren</p>
              <pre><code data-trim class="kotlin">
                class Beispiel(parameter1: String, parameter2: Int)
              </code></pre>

              <p>Instanzierung</p>
              <pre><code data-trim class="kotlin">
                val instanzierterTyp = Typ("Test", 123)
              </code></pre>
          </section>

          <section id="syntax5">
              <p>Felder können direkt im Konstruktor deklariert werden!</p>

              <pre><code data-trim class="kotlin">
                class Beispiel(param1: String, param2: Int) {
                  val property1 = param1
                  val property2 = param2
                }
              </code></pre>

              <i class="fas fa-arrow-down"></i>

              <pre><code data-trim class="kotlin">
                class Beispiel(
                  val property1: String,
                  val property2: Int
                )
              </code></pre>
          </section>

          <section id="syntax6">
            <h5>Named parameters!</h5>

            <pre><code data-trim class="kotlin">
              fun funktionMitVielenParametern(
                p1: String, p2: Int, p3: Int, p4: String,
                p5: String = "default", p6: Int = 0
              ): Typ

              val test = funktionMitVielenParametern(
                p1 = "Hallo Welt",
                p2 = 13,
                p3 = 24,
                p4 = "test",
                p6 = 14
              )
            </code></pre>
          </section>
        </section>

        <section id="null">
          <section id="null1">
            <h3>Null Safety</h3>
          </section>

          <section id="null2">
            <pre><code data-trim class="kotlin">
              fun tierMitNamenFinden(name: String): Tier?

              val tier = tierMitNamenFinden("Peter")

              // fehler!
              print(tier.art)
            </code></pre>
          </section>

          <section id="null3">
            <h4>Lösung</h4>
            Safe call <pre class="inline-code"><code class="kotlin">?</code></pre> und Elvis-Operator <pre class="inline-code"><code class="kotlin">?:</code></pre>
            <pre><code data-trim class="kotlin">
              fun tierMitNamenFinden(name: String): Tier?

              val tier = tierMitNamenFinden("Peter")

              val tierArt = tier?.art ?: "Tier nicht gefunden"

              // beliebig tief!
              val tierPreisPlus10 = tier?.preis?.plus(10) ?: 0
            </code></pre>
          </section>

          <section id="null4">
            <h4>Unchecked Exceptions</h4>

            <p>Exceptions sind Expressions und erfüllen jeden Rückgabetyp</p>

            <pre><code data-trim class="java">
                @GetMapping("/{id}")
                public Tier eins(@PathVariable("id") String id) {
                  Tier tier = tierService.tierMitId(id)

                  if (tier == null)
                    throw TierNichtGefundenException()

                  return tier
                }
            </code></pre>

            <i class="fas fa-arrow-down"></i>

            <pre><code data-trim class="kotlin">
                @GetMapping("/{id}")
                fun eins(@PathVariable("id") id: String): Tier =
                  tierService.tierMitId(id) ?: throw TierNichtGefundenException()
            </code></pre>
          </section>
        </section>

        <section id="smart">
          <h3>Smart casts</h3>
          <pre><code data-trim class="kotlin">
            if (variable is String) {
              // Kein casten mehr nötig!
            }
          </code></pre>

          <pre><code data-trim class="kotlin">
            val variable: String? = ...

            if (variable != null) {
              // Variable ist in diesem scope
              // String und nicht String?
            }
          </code></pre>
        </section>

        <section id="classes">
          <section id="classes1">
            <h3>Data Classes</h3>
          </section>

          <section id="classes2">
            <pre><code data-trim class="kotlin">
              data class Tier(
                val id: String = UUID.randomUUID.toString(),
                val name: String,
                val art: String,
                val alter: Int,
                val preis: Int? = null
              )
            </code></pre>

            <pre><code data-trim class="kotlin">
              val tier = Tier(name = "Rudi", art = "Hund", alter = 5)
            </code></pre>
            <br>
            Getter, Setter, <pre class="inline-code"><code class="kotlin">equals()</code></pre>, <pre class="inline-code"><code class="kotlin">hashCode()</code></pre> <pre class="inline-code"><code class="kotlin">toString()</code></pre> und mehr bereits implementiert!
          </section>

          <section id="classes3">
            <h3>Automatische Properties!</h3>
            <p>Getter/Setter werden automatisch implementiert für beliebige Felder</p>
          </section>

          <section id="classes4">
            <h3>Custom getter/setter</h3>

            <pre><code data-trim class="kotlin">
            data class Mitarbeiter(
              val id: String = UUID.randomUUID().toString(),
              val name: Name,
              val haustierName: String? = null
            ) {
              val hatHaustier: Boolean
                get() = this.haustierName != null
            }
            </code></pre>
            Feld existiert nicht, aber Zugriff ist gleich!
          </section>

          <section id="classes5">
            <h3>Sealed Classes</h3>
            <p>"Enum auf Klassenebene"</p>
            <pre><code data-trim class="kotlin">
              sealed class TierException : RuntimeException() {
                class NichtGefunden : TierException()
                class NichtZumVerkauf : TierException()
                class GehoertMitarbeiter : TierException()
              }
            </code></pre>
          </section>

          <section id="classes6">
            <h3>Anwendung mit Spring</h3>
            <pre><code data-trim class="kotlin">
              sealed class TierException : RuntimeException() {

                @ResponseStatus(value = HttpStatus.NOT_FOUND)
                class NichtGefunden : TierException()
                ...
              }

              @GetMapping("/{id}")
              fun eins(@PathVariable("id") id: String): Tier =
                tierService.tierMitId(id) ?: throw TierException.NichtGefunden()
            </code></pre>
          </section>
        </section>

        <section id="ext">
          <section id="ext1">
            <h3>Extension Functions</h3>
          </section>

          <section id="ext2">
            <p>In Java:</p>
            <pre><code class="java">StringUtils, DateUtils, ArrayUtils, SetUtils...</code></pre>
            <br><br>
            <p>In Kotlin:</p>
            <p>Extension Functions! &nbsp;&nbsp;<i class="fas fa-bolt"></i></p>
          </section>

          <section id="ext3">
            <pre><code class="kotlin" data-trim>
            fun String.padLeft(): String = "    " + this
            </code></pre>

            <pre><code class="kotlin" data-trim>
            fun String.istAlphanumerisch(): Boolean {
              val regex = Regex("[A-Za-z0-9]+")
              return this.matches(regex)
            }
            </code></pre>
          </section>

          <section id="ext4">
            <h4>In beliebigen Scopes!</h4>

            <pre><code class="kotlin" data-trim>
            class TierService {

              /*
               * ...
               */

              private fun Tier.istValide(): Boolean {
                if (this.alter <= 0) return false
                if (this.name.isEmpty()) return false
        
                return true
              } 
            }
            </code></pre>
          </section>

          <section id="ext5">
            Auf beliebigen Typen!

            <pre><code class="kotlin" data-trim>
              fun String.auskommentiert(): String = "// " + this
            </code></pre>

            <pre><code class="kotlin" data-trim>
            fun List&lt;Tier&gt;.hatHundeZumVerkauf(): Boolean {
              for (tier in this) {
                if (tier.art == "Hund" && preis != null)
                  return true
              }

              return false
            }
            </code></pre>
          </section>
        </section>

        <section id="stringform">
          <section id="stringform1">
            <h3>String Formatierung</h3>	
            
            <pre><code class="kotlin" data-trim>
            fun Tier.alterText(): String =
              "$name ist $alter Jahre alt."
            </code></pre>

            <pre class="inline-code"><code class="kotlin">toString()</code></pre> automatisch!

            <br><br>
            <small>Kann auch expressions enthalten!</small>
            <pre><code class="kotlin" data-trim>
            "${1 + 2}" == "3"
            </code></pre>
          </section>

          <section id="stringform2">
            <h3>String literals</h3>

            <pre><code class="kotlin" data-trim>
              val freitext = """
                Hierdrin kann beliebiger text stehen,
                auch in "Anführungszeichen".
                Sogar neue Zeilen und viel mehr ist erlaubt!
              """
            </code></pre>
          </section>
        </section>

        <section id="immut">
          <section id="immut1">
            <h3>Immutability</h3>
          </section>

          <section id="immut2">
            <p>Geteilter veränderbarer Zustand ist (fast immer) kompliziert.</p>
          </section>

          <section id="immut3">
            <pre><code class="kotlin" data-trim>
            fun haustierHinzufuegen(
              tier: Tier,
              mitarbeiter: Mitarbeiter
            ): Mitarbeiter {
              val zuSpeichern = mitarbeiter.copy(
                haustierName = tier.name
              )
              
              return mitarbeiterRepository.save(zuSpeichern)
            }
            </code></pre>
          </section>

          <section id="immut4">
            <h4>Vorteile</h4>
            <ul>
              <li>Code ist einfacher nachzuvollziehen</li>
              <li>Sicherheit bei concurrency</li>
              <li>Verhinderung von Bugs</li>
            </ul>
            <p>Direkte Unterstützung auf Sprachebene!</p>
          </section>

          <section id="immut5">
            <h4>Nachteile</h4>
            <ul>
              <li>Performance kann bei extrem großen oder komplexen Objekten leiden</li>
              <li>Anfänglich oft unintuitiv</li>
            </ul>
          </section>
        </section>

        <section id="std">
          <section id="std1">
            <h3>Die Kotlin-Standardlibrary</h3>
          </section>

          <section id="std2">
            <h3>Collection Funktionen</h3>
            <pre><code class="kotlin" data-trim>
              map(), filter(), fold(), groupBy(), associateBy(),
              distinct(), any(), count(), ...
            </code></pre>
            <p>Für <b>alle</b> Collections!</p>
            <p>Kombinierbar, verkettbar</p>
          </section>

          <section id="std3">
            <pre><code class="java" data-trim>
            public Map&lt;String, Integer&gt; tierArtAnzahl() {
              List&lt;Tier&gt; tiere = this.tierRepository.findAll();
              Map&lt;String, Integer&gt; resultat = new HashMap();
              for (Tier tier : tiere) {
                resultat.putIfAbsent(tier.getArt(), 0);
                resultat.put(
                  tier.getArt(),
                  resultat.get(tier.getArt()) + 1
                );
              }
      
              return resultat;
            }
            </code></pre>

            <i class="fas fa-arrow-down"></i>

            <pre><code class="kotlin" data-trim>
            fun tierArtAnzahl(): Map&lt;String, Int&gt; =
              tierRepository.findAll()
                .groupBy { it.art }
                .mapValues { it.value.count() }
            </code></pre>
          </section>

          <section id="std4">
            <pre><code class="kotlin" data-trim>
            fun List&lt;Tier&gt;.hatHundeZumVerkauf(): Boolean {
              for (tier in this) {
                if (tier.art == "Hund" && preis != null)
                  return true
              }

              return false
            }
            </code></pre>

            <i class="fas fa-arrow-down"></i>

            <pre><code class="kotlin" data-trim>
            fun List&lt;Tier&gt;.hatHundeZumVerkauf(): Boolean =
              this.any { it.art == "Hund" && preis != null }
            </code></pre>
          </section>

          <section id="std5">
            <h3>Umgang mit Nullable-Werten</h3>
            <p>Entsprechende Collection-Funktionen benutzen!</p>

            <pre><code class="kotlin" data-trim>
            fun mitarbeiterHaustiere(): List&lt;Tier&gt; =
              mitarbeiterRepository.findAll()
                .mapNotNull { it.haustierName }
                .mapNotNull { tierRepository.findByName(it) }
            </code></pre>
          </section>

          <section id="std6">
            <h3>Nützliche Funktionen (Standard.kt)</h3>
            <pre></pre><code class="kotlin" data-trim>
              let(), apply(), with(), run(), use(), also(), ...
            </code></pre>
          </section>

          <section id="std7">
            <h4>Beispiel: <pre class="inline-code"><code class="kotlin">let()</code></pre> mit Nullables</h4>
            <pre><code class="kotlin" data-trim>
            fun futterFuerMitarbeiter(id: String): String? {
              val haustierName = mitarbeiterRepository
                .findById(id)?.haustierName

              if (haustierName == null) return null

              val haustierArt = tierRepository
                .findByName(haustierName)?.art

              if (haustierArt == null) return null

              return tierArtRepository
                .findById(haustierArt)?.futter
            }
            </code></pre>
          </section>

          <section id="std8">
            <h4>Beispiel: <pre class="inline-code"><code class="kotlin">let()</code></pre> mit Nullables</h4>
            <pre><code class="kotlin" data-trim>
            fun futterFuerMitarbeiter(id: String): String? =
              mitarbeiterRepository.findById(id)
                ?.haustierName
                ?.let { tierRepository.findByName(it) }
                ?.let { tierArtRepository.findById(it.art) }
                ?.futter
            </code></pre>
          </section>

          <section id="std9">
            <h4>Weitere Beispiele</h4>
            <a href="http://beust.com/weblog/2015/10/30/exploring-the-kotlin-standard-library/">
              beust.com/weblog/2015/10/30/exploring-the-kotlin-standard-library
            </a>
          </section>

          <section id="std10">
            <h3>Lambdas</h3>
            <p>Kurzform für Lambda-Aufrufe</p>
            <p>Letztes Argument muss Lambda sein</p>

            <pre><code class="kotlin" data-trim>
              fun machEtwas(lambda: () -> Int) { ... }
            </code></pre>

            <i class="fas fa-arrow-down"></i>

            <pre><code class="kotlin" data-trim>
              machEtwas {
                println("Hallo Welt!")
                123
              }
            </code></pre>
          </section>

          <section id="std11">
            <h4>map</h4>
            <pre><code class="kotlin" data-trim>
            fun &lt;T, R&gt; Iterable&lt;T&gt;.map(
              transform: (T) -&gt; R
            ): Iterable&lt;R&gt; { ... }
            </code></pre>

            <h4>let</h4>
            <pre><code class="kotlin" data-trim>
            fun &lt;T, R&gt; T.let(f: (T) -> R): R = f(this)
            </code></pre>
          </section>
        </section>

        <section id="perf">
          <h3>Performance</h3>
          <ul>
            <li>Optimierung von Funktionen auf Collections</li>
            <li>Async und Parallelisierung mit Green Threads</li>
            <li>Sicherheit bei Concurrency durch Immutability</li>
            <li>Einfache Optimierungen mit Sprachkonstrukten (z.B. tail recursion)</li>
          </ul>
        </section>

        <section id="dsl">
          <section id="dsl1">
            <h3>Domain Specific Languages</h3>
            <h3>Operator Overloading</h3>
          </section>

          <section id="dsl2">
            <h4>Beispiel: Tier DSL</h4>
            <pre><code class="kotlin" data-trim>
            @TierDsl
            class TierBuilder {
              var tier = Tier(
                art = "",
                name = "",
                alter = 0
              )
          
              infix fun Tier.istArt(art: String) {
                tier = this.copy(art = art)
              }
              // ...
              fun build(): Tier = tier
            }
            </code></pre>
            
            <pre><code class="kotlin" data-trim>
            fun NeuesTier(setup: TierBuilder.() -> Unit): Tier {
              val tierBuilder = TierBuilder()
              tierBuilder.setup()
              return tierBuilder.build()
            }
            </code></pre>
          </section>

          <section id="dsl3">
            <h4>Beispiel: Tier DSL</h4>
            <pre><code class="kotlin" data-trim>
            val wuffiDerHund = NeuesTier {
              tier istArt "Hund"
              tier heisst "Wuffi"
              tier kostet 50
              tier hatAlter 10
            }
            </code></pre>
          </section>

          <section id="dsl4">
            <h4>Beispiel: HTML</h4>
            <pre><code class="kotlin" data-trim>
            val html = document.create.html {
              head {
                title { +"HTML in Kotlin!" }
              }

              body {
                div {
                  a("https://kotlinlang.org") {
                    target = ATarget.blank
                    +"Offizielle Kotlin Seite"
                  }
                }
              }
            }
            </code></pre>
            <br>
            <a href="https://github.com/Kotlin/kotlinx.html">github.com/kotlin/kotlinx.html</a>
          </section>
        </section>

        <section id="testing">
          <section id="testing1">
            <h3>Unit Testing</h3>
            <ul>
              <li>Gewohnte Werkzeuge aus Spring/anderen Libraries</li>
              <li>Literale als Funktionsnamen</li>
            </ul>
            <pre><code data-trim class="kotlin">
              fun `Funktion x sollte korrektes Ergebnis liefern`() {
                // code...
              }
            </code></pre>
          </section>

          <section id="testing2">
            <h4>Beispiel aus Bunter Hund</h4>
            <pre><code data-trim class="kotlin">
            @Test
            fun `Soll korrekt eine Liste aller Haustiere von Mitarbeitern ausgeben`() {
              val beispielHaustiere = testDatenService.mitarbeiterBeispiele()
                .mapNotNull { it.haustierName }.toSet()
      
              val resultat = mitarbeiterService.mitarbeiterHaustiere()
                .map { it.name }.toSet()
      
              assertEquals(beispielHaustiere, resultat)
            }
            </code></pre>
          </section>
        </section>

        <section id="interop">
          <section id="interop1">
            <h3>Interoperabilität mit Java</h3>
            <ul>
              <li>Zugriff auf das <b>gesamte</b> Java-Ökosystem</li>
              <li>Java <i class="fas fa-arrow-right fa-xs"></i> Kotlin</li>
              <li>Kotlin <i class="fas fa-arrow-right fa-xs"></i> Java</li>
              <li>Plugins für alle großen IDEs und (einfache) Kommandozeilen-Kompilierung</li>
              <li><pre><code data-trim class="kotlin">import as</code></pre></li>
            </ul>
          </section>

          <section id="interop2">
            <p>Unterstützung von großen Firmen</p>
            <ul>
              <li>Pivotal (Spring)</li>
              <li>Google und Android</li>
              <li>Gradle</li>
              <li>Atlassian, Uber, Pinterest, Evernote...</li>
            </ul>
          </section>
        </section>

        <section id="questions">
          <h2>Fragen?</h2>
        </section>

        <section id="thx">
          <h2>Danke fürs Zuhören!</h2><br>
          <a href="https://acomodeo.com">Acomodeo.com</a><br><br>

          <a href="https://kotlin-slides.happens.lol">kotlin-slides.happens.lol</a><br>
          <a href="https://kotlin-slides.happens.lol/?print-pdf">kotlin-slides.happens.lol/?print-pdf</a><br>
          <a href="https://revealjs.com">revealjs.com</a><br><br>

          <a href="https://github.com/happenslol/bunterhund">github.com/happenslol/bunterhund</a><br>
          <a href="https://kotlinlang.org/docs/tutorials/koans.html">kotlinlang.org/docs/tutorials/koans.html</a>
        </section>
      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
